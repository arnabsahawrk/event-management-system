{% extends 'home-layout.html' %}

{% block title %}
  Login - Event Management System
{% endblock %}

{% block home_layout %}
  <section class="max-w-7xl mx-auto px-6 py-10 space-y-10">
    <div class="space-y-6">
      <p>
        <a href="{% url 'core:home' %}" class="px-5 py-2 bg-blue-600 text-white rounded shadow hover:bg-blue-700 transition">Back</a>
      </p>
      <div class="lg:w-1/2 mx-auto">
        {% if messages %}
          <div class="space-y-2">
            {% for message in messages %}
              {% if message.tags == 'success' %}
                <div class="flex items-start gap-2 p-3 rounded-lg bg-green-100 border border-green-300 text-green-800 text-sm font-medium">
                  <span class="font-bold">✓</span>
                  <span>{{ message }}</span>
                </div>
              {% elif message.tags == 'error' %}
                <div class="flex items-start gap-2 p-3 rounded-lg bg-red-100 border border-red-300 text-red-800 text-sm font-medium">
                  <span class="font-bold">✕</span>
                  <span>{{ message }}</span>
                </div>
              {% else %}
                <div class="flex items-start gap-2 p-3 rounded-lg bg-blue-100 border border-blue-300 text-blue-800 text-sm font-medium">
                  <span class="font-bold">ℹ</span>
                  <span>{{ message }}</span>
                </div>
              {% endif %}
            {% endfor %}
          </div>
        {% endif %}

        <form method="post" class="space-y-4">
          {% csrf_token %}
          {% for field in login_form %}
            <div>
              {{ field.label_tag }}
              {{ field }}

              {% if field.errors %}
                <p class="text-sm text-red-600 mt-1">{{ field.errors|striptags }}</p>
              {% endif %}
            </div>
          {% endfor %}

          {% if login_form.non_field_errors %}
            <div>
              {% for error in login_form.non_field_errors %}
                <p class="text-sm text-red-600 mt-1">{{ error }}</p>
              {% endfor %}
            </div>
          {% endif %}
          <button type="submit" class="px-5 py-2 bg-blue-600 text-white rounded-lg shadow hover:bg-blue-700 transition w-full font-medium">Login</button>
        </form>
      </div>
    </div>
  </section>
{% endblock %}
